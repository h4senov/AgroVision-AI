{% extends 'base.html' %}
{% load static %}
{% block title %}Dashboard - Smart Farm{% endblock %}

{% block content %}
<div class="app-container py-4">
    <div class="row">
        <!-- üìä STATISTICS CARDS -->
        <div class="col-12 mb-4">
            <h1 class="h4 mb-3">Ferma Dashboard</h1>
            <div class="row g-3">
                <!-- Sah…ôl…ôr -->
                <div class="col-6 col-md-3">
                    <div class="card stat-card bg-primary text-white">
                        <div class="card-body text-center">
                            <i class="fas fa-map fa-2x mb-2"></i>
                            <h3 class="h2">{{ total_fields }}</h3>
                            <p class="mb-0">Sah…ô</p>
                        </div>
                    </div>
                </div>
                
                <!-- Bitkil…ôr -->
                <div class="col-6 col-md-3">
                    <div class="card stat-card bg-success text-white">
                        <div class="card-body text-center">
                            <i class="fas fa-seedling fa-2x mb-2"></i>
                            <h3 class="h2">{{ total_plants }}</h3>
                            <p class="mb-0">Bitki</p>
                        </div>
                    </div>
                </div>
                
                <!-- Sensorlar -->
                <div class="col-6 col-md-3">
                    <div class="card stat-card bg-info text-white">
                        <div class="card-body text-center">
                            <i class="fas fa-satellite-dish fa-2x mb-2"></i>
                            <h3 class="h2">{{ total_sensors }}</h3>
                            <p class="mb-0">Sensor</p>
                        </div>
                    </div>
                </div>
                
                <!-- Anbar -->
                <div class="col-6 col-md-3">
                    <div class="card stat-card bg-warning text-dark">
                        <div class="card-body text-center">
                            <i class="fas fa-box fa-2x mb-2"></i>
                            <h3 class="h2">{{ total_inventory }}</h3>
                            <p class="mb-0">M…ôhsul</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- üìã SON ∆èM∆èLƒ∞YYATLAR -->
        <div class="col-md-8">
            <div class="card shadow-sm">
                <div class="card-header bg-light">
                    <h5 class="mb-0"><i class="fas fa-history me-2"></i>Son ∆èm…ôliyyatlar</h5>
                </div>
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        <!-- Burada son …ôm…ôliyyatlar g√∂st…ôril…ôc…ôk -->
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-plus text-success me-2"></i>
                                <span>Yeni m…ôhsul …ôlav…ô edildi</span>
                            </div>
                            <small class="text-muted">5 d…ôqiq…ô …ôvv…ôl</small>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-seedling text-primary me-2"></i>
                                <span>Yeni bitki …ôlav…ô edildi</span>
                            </div>
                            <small class="text-muted">1 saat …ôvv…ôl</small>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-exclamation-triangle text-danger me-2"></i>
                                <span>A≈üaƒüƒ± stok x…ôb…ôrdarlƒ±ƒüƒ±</span>
                            </div>
                            <small class="text-muted">2 saat …ôvv…ôl</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ‚ö†Ô∏è X∆èB∆èRDARLIQLAR -->
        <div class="col-md-4">
            <div class="card shadow-sm border-warning">
                <div class="card-header bg-warning text-dark">
                    <h5 class="mb-0"><i class="fas fa-exclamation-triangle me-2"></i>X…ôb…ôrdarlƒ±qlar</h5>
                </div>
                <div class="card-body">
                    {% if low_stock_count > 0 %}
                    <div class="alert alert-danger">
                        <i class="fas fa-box me-2"></i>
                        <strong>{{ low_stock_count }} m…ôhsul</strong> a≈üaƒüƒ± stokdadƒ±r.
                        <a href="{% url 'inventory:low_stock' %}" class="alert-link">Bax</a>
                    </div>
                    {% else %}
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle me-2"></i>
                        He√ß bir x…ôb…ôrdarlƒ±q yoxdur.
                    </div>
                    {% endif %}
                    
                    <!-- Dig…ôr x…ôb…ôrdarlƒ±qlar burada …ôlav…ô oluna bil…ôr -->
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Hava proqnozu: Sabah yaƒüƒ±≈ü g√∂zl…ônilir.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- üé® STYLES -->
<style>
.stat-card {
    border: none;
    border-radius: 12px;
    transition: transform 0.2s ease;
}

.stat-card:hover {
    transform: translateY(-3px);
}

.app-container {
    max-width: 1200px;
    margin: 0 auto;
}

.card {
    border-radius: 12px;
    border: 1px solid #e9ecef;
}

.list-group-item {
    border: none;
    padding: 12px 0;
}
</style>
{% endblock %}